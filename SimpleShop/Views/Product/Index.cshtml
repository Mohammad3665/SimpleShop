@using SimpleShop.Application.Products.Queries.GetPublicProductList;
@model List<PublicProductDTO>

<!--====== Section 3 ======-->
<div class="u-s-p-b-60">

    <!--====== Section Intro ======-->
    <div class="section__intro u-s-m-b-46">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="section__text-wrap">
                        @if (ViewBag.SearchTerm is not null)
                        {
                            <h1 class="section__heading u-c-secondary u-s-m-b-12">Search Results</h1>
                            <span class="section__span u-c-silver">showing results for "@ViewBag.SearchTerm"</span>
                        }
                        else
                        {
                            <h1 class="section__heading u-c-secondary u-s-m-b-12">PRODUCTS</h1>
                            <span class="section__span u-c-silver">PRODUCTS</span>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--====== End - Section Intro ======-->
    <!--====== Section Content ======-->
    <div class="section__content">
        <div class="container">
            <div class="row">
                @if (Model is not null && Model.Any())
                {
                    foreach (var product in Model)
                    {
                        <div class="col-lg-3 col-md-4 col-sm-6 u-s-m-b-30">
                            <div class="product-r u-h-100">
                                <div class="product-r__container">

                                    <a class="aspect aspect--bg-grey aspect--square u-d-block" asp-controller="Product" asp-action="Details" asp-route-id="@product.Id">

                                        <img class="aspect__img" src="images/products/@product.MainImageUrl" alt="@product.Name">
                                    </a>
                                    <div class="product-r__action-wrap">
                                        <ul class="product-r__action-list">
                                            <li>

                                                <a data-modal="modal" data-modal-id="#quick-look"><i class="fas fa-search-plus"></i></a>
                                            </li>
                                            <li>

                                                <a data-modal="modal" data-modal-id="#add-to-cart"><i class="fas fa-plus-circle"></i></a>
                                            </li>
                                            <li>

                                                <a><i class="fas fa-heart"></i></a>
                                            </li>
                                            <li>

                                                <a><i class="fas fa-envelope"></i></a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="product-r__info-wrap">

                                    <span class="product-r__category">

                                        <a href="shop-side-version-2.html">@product.CategoryName</a>
                                    </span>
                                    <div class="product-r__n-p-wrap">

                                        <span class="product-r__name">

                                            <a asp-controller="Product" asp-action="Details" asp-route-id="@product.Id">@product.Name</a>
                                        </span>

                                        <span class="product-r__price">$@product.Price.ToString("N2")</span>
                                    </div>
                                    @if (product.IsInStock)
                                    {
                                        <span class="badge badge-success product-stock-status u-s-m-b-6">In Stock</span>
                                    }
                                    else
                                    {
                                        <span class="badge badge-danger product-stock-status u-s-m-b-6">Out of Stock</span>
                                    }
                                </div>
                            </div>
                        </div>
                    }
                }
            </div>
        </div>
    </div>
    <!--====== End - Section Content ======-->
